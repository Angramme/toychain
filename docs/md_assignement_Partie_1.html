<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Toychain!: Partie 1</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Toychain!
   </div>
   <div id="projectbrief">A toy blockchain in C</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_assignement_Partie_1.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Partie 1 </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >Dans cette première partie nous nous intéressons au chiffrement et dechiffrement d'un message à l'aide du protocole RSA. Dans le premier exercice on implémente des fonctions permettant de calculer des nombres premiers dont le test de Miller-Rabin. Dans l'exercice suivant, on utilise les fonctions précédentes pour déterminer des clés publiques et privées grâce à l'algorithme d'Euclide.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Exos 1 et 2 du Sujet</h1>
<h2><a class="anchor" id="autotoc_md2"></a>
Q1.1</h2>
<p >Dans le cas où p est premier, c'est-à-dire le pire cas, la complexité de is_prime_naive est O(p).</p>
<h2><a class="anchor" id="autotoc_md3"></a>
Q1.2</h2>
<p >TODO </p>
<h2><a class="anchor" id="autotoc_md4"></a>
Q1.3</h2>
<p >La complexité de modpow_naive est O(m).</p>
<h2><a class="anchor" id="autotoc_md5"></a>
Q1.5</h2>
<p >Pour les 2 fonctions, les temps sont très faibles même pour des grands m. On remarque cependant qu'au bout d'un moment le durée de modpow_naive commence à augmenter. Pour modpow, la durée est trop courte, on ne remarque pas d'augmentation même pour des grands nombres. Exemple : Pour a=9435000329, m=134217728, n=1093 durée modpow_naive = 1.491 sec durée modpow ~ 0 sec</p>
<h2><a class="anchor" id="autotoc_md6"></a>
Q1.7</h2>
<p >Parmi les valeurs de 2 a p-1, cad p-3 valeurs. On a une probabilité de 1/4 de ne pas tomber sur un temoin de Miller. De plus on effectue le test k fois avec remise (la fonction rand_long peut tomber deux fois sur la meme valeur). Autrement dit la probabilité ne change pas entre les lancers. Donc la probabilité de ne pas tomber sur un temoin de Miller pour k tests consecutifs est de (1/4)^k.</p>
<blockquote class="doxtable">
<p >&zwj;Rmq: Il serait tres preferable d'adapter notre fonction de tirage aléatoire pour qu'elle ne répète pas deux fois la meme valeur. Cela augmenterait la probabilité de tomber sur un temoin de Miller à chaque iteration consecutive et par consequent diminuerait celle de faire un faux positif pour un même nombre des tests k. </p>
</blockquote>
<h2><a class="anchor" id="autotoc_md7"></a>
Jeu de tests</h2>
<p >Les sets utilisés pour les tests de chiffrement sont générés aléatoirement. On implémente dans <a class="el" href="test_8h.html" title="A collection of defines for simplified testing.">test/test.h</a> des fonctions qui permettent de faires des tests simplements ainsi que <a class="el" href="overflow_8h.html" title="A helper file for checking overflows.">lib/overflow.h</a> pour detecter des overflows (voir la doc).</p>
<h1><a class="anchor" id="autotoc_md8"></a>
Difficultés rencontrées</h1>
<p >Nous nous sommes rendus compte, dans la fonction <b><a class="el" href="lib_2rsa_8c.html#ae5d8e1427339ac0a86b21ea59666b0c0" title="generates public and private RSA keys public = (s, n) ; private = (u, n)">generate_key_values()</a></b>, que certaines valeurs générées peuvent causer des overflows et ainsi perturber le chiffrement/dechiffrement.</p>
<p >C'est le cas de l'argument n de cette même fonction. En effet, si n est trop grand, sa multiplication par lui-même peut causer un overflow. Et il en va de même pour le produit de certains nombres modulo n. Par exemple : x = (an) * (bn) peut depasser la taille d'un entier.</p>
<p >Le problème vient du fait que n est ensuite utilisé pour l'exponentiation modulaire <b><a class="el" href="lib_2mmath_8c.html#a62e25d64776516663d75ddb59201fc0c" title="calculates the exponent of a to the power of m modulo n in O(m log m). this is the main implementatio...">modpow()</a></b> et peut donc induire la génération de clés qui ne correspondent pas à ce qui est attendu. Effectivement, si n a 'débordé', l'opération modulo n donnera un résultat non valide pour notre utilisation.</p>
<p >Pour empêcher cela, nous avons :</p><ol type="1">
<li>Créé des runtime warnings, des fonctions qui vérifient si une opération entre deux entiers cause un overflow (voir <a class="el" href="overflow_8h.html" title="A helper file for checking overflows.">overflow.h</a>).</li>
<li>Généré, pour un même message, une nouvelle clé tant qu'un overflow a eu lieu pendant la génération.</li>
</ol>
<p >Ainsi, on s'assure que les clés générées permettent bien de chiffrer/dechiffrer le message correctement et qu'aucune clé ne soit le résultat d'un overflow. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3 </li>
  </ul>
</div>
</body>
</html>
